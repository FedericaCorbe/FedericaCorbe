<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id=demo></div>
    <script>
      var elDemo = document.querySelector('#demo')
      var dati=''
      const url = 'https://jsonplaceholder.typicode.com/posts'

     //   var httpXML = new XMLHttpRequest()

     //   httpXML.open("GET", url, true)
 
     //   httpXML.send()

     //   httpXML.onreadystatechange = function(){
     //       if(this.status == 200 && this.readyState == 4) {
     //         console.log(httpXML.responseText);
     //         var mioOBJ = JSON.parse(this.responseText)
     //         console.log(mioOBJ)
     //         dati = this.responseText
     //         elDemo.innerHTML = '<h1>Primo post del giorno</h1>'
     //         +'Titolo: ' + mioOBJ[0].title + '<br>' + mioOBJ[0].body

     //         elDemo.innerHTML = dati


     //     }
          
     //   }


     //metodo fetch
        fetch(url)
         .then(data => {return data.json()})
         .then(res => {
             //console.log(res)
             dati=res
             console.log(dati);
            })


            fetch('https://jsonplaceholder.typicode.com/posts', {
            method: 'POST',
            body: JSON.stringify({
               title: 'Post del buongiornissimo',
               body: 'ciuf ciuf Ã¨ arrivato il KAFFEE!',
               userId: 1,
            }),
            headers: {
               'Content-type': 'application/json; charset=UTF-8',
           },
            })
           .then((response) => response.json())
           .then((json) => {
               elDemo.innerHTML = "Titolo: " + json.title + "<br> Testo:" + json.body

           })
           
         


    </script>
</body>
</html>